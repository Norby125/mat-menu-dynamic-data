@if (isRootNode()) {
  <button mat-icon-button [matMenuTriggerFor]="menu">
    <mat-icon>{{ icon() }}</mat-icon>
  </button>
} @else {
  {{ groupId() }}
}

<mat-menu #menu="matMenu">
  @for (node of nodes(); track node) {
    @if (node | isString) {
      <button mat-menu-item [matMenuTriggerFor]="appMenu.matMenu() ?? null">
        <mat-icon>restart_alt</mat-icon>
        <ipl-menu #appMenu [groupId]="node" [dataMap]="dataMap()" [isRootNode]="false"></ipl-menu>
      </button>
    } @else {
      <button mat-menu-item [disabled]="node.disabled">
        <mat-icon>{{ node.icon }}</mat-icon>
        {{ node.displayName }}
      </button>
    }
  }
</mat-menu>
